{"ast":null,"code":"import { createStore } from 'vuex';\nimport { map } from '../Ymaps/ymaps.js';\nimport axios from 'axios';\nexport default createStore({\n  state: {\n    marksConfigs: [{\n      id: 'universities',\n      config: {\n        iconLayout: 'default#image',\n        iconImageHref: '/placeMarks/purpleMark.svg',\n        iconImageSize: [55, 55],\n        iconImageOffset: [-30, -40]\n      }\n    }, {\n      id: 'coworkings',\n      config: {\n        iconLayout: 'default#image',\n        iconImageHref: '/placeMarks/yellowMark.svg',\n        iconImageSize: [55, 55],\n        iconImageOffset: [-30, -40]\n      }\n    }, {\n      id: 'libraries',\n      config: {\n        iconLayout: 'default#image',\n        iconImageHref: '/placeMarks/yellowMark.svg',\n        iconImageSize: [55, 55],\n        iconImageOffset: [-30, -40]\n      }\n    }, {\n      id: 'cafe',\n      config: {\n        iconLayout: 'default#image',\n        iconImageHref: '/placeMarks/yellowMark.svg',\n        iconImageSize: [55, 55],\n        iconImageOffset: [-30, -40]\n      }\n    }]\n  },\n  mutations: {},\n  actions: {\n    async addMarksFromType({\n      state,\n      commit\n    }, btnId) {\n      if (!map) {\n        return;\n      }\n      ;\n      try {\n        const response = await axios.get();\n        let newCollection = new ymaps.GeoObjectCollection(null);\n        let placesArr = response.data;\n        let config = state.marksConfigs.find(item => item.id === btnId).config;\n        for (let place of placesArr) {\n          newCollection.add(new ymaps.Placemark(place.coords, {\n            balloonContentHeader: place.name,\n            balloonContentBody: place.addess\n          }, config));\n        }\n        ;\n        map.geoObjects.add(newCollection);\n      } catch (e) {\n        alert(\"Ошибка\");\n      }\n\n      // let universitiesArr = [\n      //   {\n      //     name: \"ЛЭТИ\",\n      //     coordinates: [59.971942, 30.324294],\n      //   },\n      //   {\n      //     name: \"СПБГУ\",\n      //     coordinates: [59.941636, 30.299563],\n      //   },\n      //   {\n      //     name: \"БОНЧ\",\n      //     coordinates: [59.902821, 30.489175],\n      //   }\n      // ];\n\n      // let config = state.marksConfigs.find(item => item.id === btnId).config;\n\n      for (let place of universitiesArr) {\n        newCollection.add(new ymaps.Placemark(place.coordinates, {\n          balloonContent: place.name\n        }, config));\n      }\n      map.geoObjects.add(newCollection);\n    }\n  }\n});","map":{"version":3,"names":["createStore","map","axios","state","marksConfigs","id","config","iconLayout","iconImageHref","iconImageSize","iconImageOffset","mutations","actions","addMarksFromType","commit","btnId","response","get","newCollection","ymaps","GeoObjectCollection","placesArr","data","find","item","place","add","Placemark","coords","balloonContentHeader","name","balloonContentBody","addess","geoObjects","e","alert","universitiesArr","coordinates","balloonContent"],"sources":["/home/brulik/projects/hackaton_leti2/digital_students/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nimport { map } from '../Ymaps/ymaps.js'\nimport axios from 'axios'\n\nexport default createStore({\n  state: {\n    marksConfigs: [\n      {\n        id: 'universities', \n        config: {\n          iconLayout: 'default#image',\n          iconImageHref: '/placeMarks/purpleMark.svg',\n          iconImageSize: [55, 55],\n          iconImageOffset: [-30, -40],  \n        }\n      },\n      {\n        id: 'coworkings', \n        config: {\n          iconLayout: 'default#image',\n          iconImageHref: '/placeMarks/yellowMark.svg',\n          iconImageSize: [55, 55],\n          iconImageOffset: [-30, -40],  \n        }\n      },\n      {\n        id: 'libraries', \n        config: {\n          iconLayout: 'default#image',\n          iconImageHref: '/placeMarks/yellowMark.svg',\n          iconImageSize: [55, 55],\n          iconImageOffset: [-30, -40],  \n        }\n      },\n      {\n        id: 'cafe', \n        config: {\n          iconLayout: 'default#image',\n          iconImageHref: '/placeMarks/yellowMark.svg',\n          iconImageSize: [55, 55],\n          iconImageOffset: [-30, -40],  \n        }\n      },\n    ]\n  },\n  mutations: {\n  },\n  actions: {\n    async addMarksFromType({ state, commit }, btnId) {\n        if (!map) {\n          return\n        };\n\n        try {\n          const response = await axios.get()\n\n          let newCollection = new ymaps.GeoObjectCollection(null);\n          let placesArr = response.data;\n          let config = state.marksConfigs.find(item => item.id === btnId).config;\n\n          for(let place of placesArr) {\n            newCollection.add(new ymaps.Placemark(place.coords, {\n              balloonContentHeader: place.name,\n              balloonContentBody: place.addess,\n            }, config))\n          };\n\n          map.geoObjects.add(newCollection);\n\n\n        } catch (e) {\n          alert(\"Ошибка\")\n        }\n\n        // let universitiesArr = [\n        //   {\n        //     name: \"ЛЭТИ\",\n        //     coordinates: [59.971942, 30.324294],\n        //   },\n        //   {\n        //     name: \"СПБГУ\",\n        //     coordinates: [59.941636, 30.299563],\n        //   },\n        //   {\n        //     name: \"БОНЧ\",\n        //     coordinates: [59.902821, 30.489175],\n        //   }\n        // ];\n        \n        // let config = state.marksConfigs.find(item => item.id === btnId).config;\n        \n        for(let place of universitiesArr) {\n          newCollection.add(new ymaps.Placemark(place.coordinates, {\n            balloonContent: place.name\n          }, config))\n        }\n        \n        map.geoObjects.add(newCollection);\n    },\n  },\n})\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,SAASC,GAAG,QAAQ,mBAAmB;AACvC,OAAOC,KAAK,MAAM,OAAO;AAEzB,eAAeF,WAAW,CAAC;EACzBG,KAAK,EAAE;IACLC,YAAY,EAAE,CACZ;MACEC,EAAE,EAAE,cAAc;MAClBC,MAAM,EAAE;QACNC,UAAU,EAAE,eAAe;QAC3BC,aAAa,EAAE,4BAA4B;QAC3CC,aAAa,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;QACvBC,eAAe,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;MAC5B;IACF,CAAC,EACD;MACEL,EAAE,EAAE,YAAY;MAChBC,MAAM,EAAE;QACNC,UAAU,EAAE,eAAe;QAC3BC,aAAa,EAAE,4BAA4B;QAC3CC,aAAa,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;QACvBC,eAAe,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;MAC5B;IACF,CAAC,EACD;MACEL,EAAE,EAAE,WAAW;MACfC,MAAM,EAAE;QACNC,UAAU,EAAE,eAAe;QAC3BC,aAAa,EAAE,4BAA4B;QAC3CC,aAAa,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;QACvBC,eAAe,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;MAC5B;IACF,CAAC,EACD;MACEL,EAAE,EAAE,MAAM;MACVC,MAAM,EAAE;QACNC,UAAU,EAAE,eAAe;QAC3BC,aAAa,EAAE,4BAA4B;QAC3CC,aAAa,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;QACvBC,eAAe,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;MAC5B;IACF,CAAC;EAEL,CAAC;EACDC,SAAS,EAAE,CACX,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,gBAAgBA,CAAC;MAAEV,KAAK;MAAEW;IAAO,CAAC,EAAEC,KAAK,EAAE;MAC7C,IAAI,CAACd,GAAG,EAAE;QACR;MACF;MAAC;MAED,IAAI;QACF,MAAMe,QAAQ,GAAG,MAAMd,KAAK,CAACe,GAAG,CAAC,CAAC;QAElC,IAAIC,aAAa,GAAG,IAAIC,KAAK,CAACC,mBAAmB,CAAC,IAAI,CAAC;QACvD,IAAIC,SAAS,GAAGL,QAAQ,CAACM,IAAI;QAC7B,IAAIhB,MAAM,GAAGH,KAAK,CAACC,YAAY,CAACmB,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACnB,EAAE,KAAKU,KAAK,CAAC,CAACT,MAAM;QAEtE,KAAI,IAAImB,KAAK,IAAIJ,SAAS,EAAE;UAC1BH,aAAa,CAACQ,GAAG,CAAC,IAAIP,KAAK,CAACQ,SAAS,CAACF,KAAK,CAACG,MAAM,EAAE;YAClDC,oBAAoB,EAAEJ,KAAK,CAACK,IAAI;YAChCC,kBAAkB,EAAEN,KAAK,CAACO;UAC5B,CAAC,EAAE1B,MAAM,CAAC,CAAC;QACb;QAAC;QAEDL,GAAG,CAACgC,UAAU,CAACP,GAAG,CAACR,aAAa,CAAC;MAGnC,CAAC,CAAC,OAAOgB,CAAC,EAAE;QACVC,KAAK,CAAC,QAAQ,CAAC;MACjB;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;;MAEA,KAAI,IAAIV,KAAK,IAAIW,eAAe,EAAE;QAChClB,aAAa,CAACQ,GAAG,CAAC,IAAIP,KAAK,CAACQ,SAAS,CAACF,KAAK,CAACY,WAAW,EAAE;UACvDC,cAAc,EAAEb,KAAK,CAACK;QACxB,CAAC,EAAExB,MAAM,CAAC,CAAC;MACb;MAEAL,GAAG,CAACgC,UAAU,CAACP,GAAG,CAACR,aAAa,CAAC;IACrC;EACF;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}